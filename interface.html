<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>喜好歌單分析</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link rel="stylesheet" href="interface.css">
</head>
<body>
    <div class="container">
        <!-- 側邊欄：顯示"喜好歌單"文字 -->
        <div class="sidebar">
            <!-- 文件上傳輸入框 -->
            <input type="file" id="csvFileInput" accept=".csv" onchange="handleUserUpload(event)" />
            <table id="songTable">
                <thead>
                    <tr>
                        <th>Song Name</th>
                        <th>Singer Name</th>
                        <th>Language</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 動態資料會插入到這裡 -->
                </tbody>
            </table>
        </div>

        <!-- 主內容區 -->
        <div class="content">
            <!-- 選擇按鈕 -->
            <div class="buttons">
                <button onclick="showAnalysis('language')">語言</button>
                <button onclick="showAnalysis('genre')">風格</button>
                <button onclick="showAnalysis('emotion')">Emo指數</button>
                <button onclick="showAnalysis('artist')">歌手</button>
            </div>

            <!-- 圓餅圖和右側選項區域 -->
            <div class="chart-container">
                <div class="chart">
                    <canvas id="languageChart"></canvas>
                </div>

                <!-- 右側選項和創建歌單 -->
                <div class="right-panel">
                    <!-- 分析結果選擇區域 -->
                    <div class="options" id="options"></div>
                
                    <!-- 顯示歌單 -->
                    <div class="song-list"></div>
                
                    <!-- 創建歌單按鈕 -->
                    <div class="create-playlist">
                        <input type="button" value="創建歌單" onclick="location.href='newplaylist.html'" />
                    </div>
                </div>
                
            </div>
        </div>
    </div>

    <div class="filters">
        <div id="language-options" class="filter-group"></div>
        <div id="singer-options" class="filter-group"></div>
    </div>
    
    <div class="charts">
        <canvas id="languageChart"></canvas>
        <canvas id="singerChart"></canvas>
    </div>
    
    <div class="buttons">
        <button onclick="showLanguageAnalysis()">語言分析</button>
        <button onclick="showSingerAnalysis()">歌手分析</button>
    </div>

    <script src="language_singer_filter.js"></script>
</body>
</html>
